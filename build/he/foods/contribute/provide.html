<!DOCTYPE html><html lang="he" dir="rtl"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APBD.net: ×¡×¤×§ ××™×“×¢ ×¢×œ ×××›×œ</title>

    <meta name="description" content="-×›××Ÿ ××¤×©×¨ ×œ×”×•×¡×™×£ ×××›×œ×™× × ×•×¡×¤×™× ×œ×¨×©×™××ª ×”×××›×œ×™× ×©×œ× ×• ×‘APBD.net. × ×¡×” ××•×ª×™ - ×¢×©×” ×˜×•×‘!â€">

    <link rel="stylesheet" href="/css/foods/main.css">
    <link rel="stylesheet" href="/css/foods/dropdown.css">
    <link rel="stylesheet" href="/css/foods/contribute.css">

<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VPXMF38X8C"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-VPXMF38X8C');
</script></head>

<!-- Google tag (gtag.js) -->



<body>
    <script>
        const touch = matchMedia('(hover: none)').matches
        console.log(touch);

        if (touch) {
            let prev = window.document.body;
            window.addEventListener("touchend", function (e) {
                if (e.target.onclick) e.target.onclick();
                if (prev !== e.target) prev.classList.remove("hover");
                e.target.classList.toggle("hover");
                prev = e.target;
                console.log(e.target);
            }, { passive: false });
        }
    </script>
    <header>
        <div class="logo">
            <img src="/favicon.ico" alt="Website logo">
            <div class="column">
                <a class="title" href="https://apbd.net">APBD.net</a>
                <a class="sub" href="/">×¨×©×™××ª ×××›×œ×™× ××•×ª×¨×™×</a>
            </div>

        </div>
        <nav class="header-menu">
            <div class="dropdown">
                <a id="about" href="#">××•×“×•×ª</a>
                <div class="dropdown-content">
                    <a target="_blank" href="https://github.com/ShaharMS/APBD-FoodList/blob/main/README.md">××ª×¨</a>
                    <a target="_blank" href="https://rarediseases.org/rare-diseases/adult-polyglucosan-body-disease/">APBD
                        <span>â†—</span></a>
                    <a href="../about/database.html">××¡×“ ×”× ×ª×•× ×™×</a>
                </div>
            </div>
            <div class="dropdown">
                <a id="contribute" href="#">×ª×¨×•× ×ª×•×›×Ÿ</a>
                <div class="dropdown-content">
                    <a href="../contribute/request.html">×‘×§×©×ª × ×ª×•× ×™×</a>
                    <a href="../contribute/provide.html">×¡×™×¤×•×§ × ×ª×•× ×™×</a>
                    <a href="../contribute/leaderboards.html">×ª×•×¨××™× ××•×‘×™×œ×™×</a>
                </div>
            </div>

            <div class="dropdown">
                <a id="contact" href="#">×©×¤×”</a>
                <div class="dropdown-content">
                    <a onclick="window.location.href = window.location.href.replace(new RegExp('he|en'), 'en')" href="#">×× ×’×œ×™×ª</a>
                    <a onclick="window.location.href = window.location.href.replace(new RegExp('he|en'), 'he')" href="#">×¢×‘×¨×™×ª</a>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <blockquote>×”×¢××•×“ ×”×–×” ×§×™×™× ×¢×œ ×× ×ª ×œ××¤×©×¨ ×œ×š ×•×œ×× ×©×™× ××—×¨×™× ×œ×¢×–×•×¨ ××—×“ ×œ×©× ×™, ×¢"×™ ×”×¨×—×‘×” ×©×œ ×¨×©×™××ª ×”×××›×œ×™× ×”××ª×•×¢×“×™×. ××™×Ÿ ×¦×•×¨×š ×œ×—×©×•×© ×× ×œ× ×‘×˜×•×—×™×/×™×•×“×¢×™× ××™×“×¢ ××¡×•×™× - ×× ×™ ×¢×œ ×–×” :)â€</blockquote>

        <form id="provide-form">
            <table id="provide-table">
                <tbody><tr>
                    <th>
                        <help>×”×©× ×”×¤×¨×˜×™ + ××©×¤×—×” ×©×œ×š. ×× × ×™×ª×Ÿ, ×™×©××© ×‘×ª×•×¨ ××–×”×” ×‘×œ×•×— ×”×”×™×©×’×™×, ×©×ª×—×ª×™×• ×ª×•×•×¡×£ ×ª×¨×•××ª ×”×ª×•×›×Ÿ. ×ª×¨×•× ××¡×¤×™×§ ×ª×•×›×Ÿ, ×•××•×œ×™ ×ª×’×™×¢ ×œ××§×•× ×”×¨××©×•×Ÿ ğŸ˜â€</help>
                        <span>×©×</span>
                    </th>
                    <td>
                        <input id="name" placeholder="×©× ×¤×¨×˜×™ ×•×©× ××©×¤×—×”...">
                        <div class="button-row">
                            <button id="n-np" type="button">××¢×“×™×£ ×©×œ× ×œ××¡×•×¨</button>
                        </div>
                    </td>
                </tr>
                <tr>

                    <th>
                        <help>×©× ×”×××›×œ ××•×ª×• ××ª×” ×¨×•×¦×” ×œ×”×•×¡×™×£. ×¢×“×™×£ ×œ×”×‘×™× ×©× ×××•×§×“ ×™×•×ª×¨ ×× ××¤×©×¨ (×›××•×‘×Ÿ ××‘×œ×™ ×œ×”×©××™×˜ ××™×“×¢). ×× ××¢×•×¨×‘×ª ×—×‘×¨×” ××¡×•×™××ª ×‘×™×¦×•×¨ ×”××•×›×œ, × ×™×ª×Ÿ ×œ×”×–×›×™×¨ ×–××ª ×‘×©×“×” × ×¤×¨×“.â€</help>
                        <span>×©× ×”×××›×œ (×× ×’×œ×™×ª)</span>
                    </th>
                    <td>
                        <input id="food-name-english" placeholder="Food name...">
                        <div class="button-row">
                            <button id="fn-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="fn-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>×œ××˜×¨×•×ª ×ª×¨×’×•×, ××•××œ×¥ ×œ×ª×ª ×’× ××ª ×©× ×”×××›×œ ×‘×¢×‘×¨×™×ª (×”×•×¤×š ×œ×™ ××ª ×”×¢×‘×•×“×” ×œ×§×œ×” ×™×•×ª×¨ ğŸ™ƒ)â€</help>
                        <span>×©× ×”×××›×œ (×¢×‘×¨×™×ª)</span>
                    </th>
                    <td>
                        <input id="food-name-hebrew" placeholder="×©× ×”×××›×œ...">
                        <div class="button-row">
                            <button id="t-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="t-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>××¤×©×¨ ×œ×©× ×•×ª ××ª ×”×¢×¨×š ×”×–×” ×× ×œ×××›×œ ×©××¡×¤×§×™× ×™×© ××©×§×œ ×¡×¤×¦×™×¤×™ (×œ×“×•×’××”: ×”×‘×™×’ ××§ ×©×œ ××§×“×•× ×œ×“×¡ ×©×•×§×œ 220 ×’×¨×).</help>
                        <span>××•×¤×¦×™×•× ××œ×™: ××©×§×œ ×”×××›×œ</span>
                    </th>
                    <td>
                        <input type="number" id="food-weight" placeholder="100" value="100" min="0"> 
                        <div class="button-row">
                            <button type="button" onclick="document.getElementById('food-weight').value = 100; this.classList.toggle('selected');">××™×¤×•×¡ ×œ-100 ×’×¨×</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>×× ×”××•×¦×¨ ×”×¡×¤×¦×™×¤×™ ××•×ª×• ××ª×” ××‘×§×© ××™×•×¦×¨ ×¢"×™ ×—×‘×¨×” ××¡×•×™××ª, ×ª×–×›×™×¨ ××ª ×©××” ×›××Ÿ. ×–×” × ×•×ª×Ÿ ×œ×™ ×œ×”×¦××™×“ ××ª ×©× ×•×œ×•×’×• ×”×—×‘×¨×” ×œ××•×¦×¨ ×‘××ª×¨ ×¢×¦××•.â€</help>
                        <span>××•×¤×¦×™×•× ××œ×™: ×©× ×”×—×‘×¨×”</span>
                    </th>
                    <td>
                        <input id="company" list="companies" placeholder="×©× ×”×—×‘×¨×”...">
                        <datalist id="companies"></datalist>
                        <div class="button-row">
                            <button id="co-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="co-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>×›×œ ××•×›×œ × ××¦× ×‘××§×•× ×›×œ×©×”×• ×¢×œ ××“×“ ×”×¢×¨×š ×”×’×œ×™×§××™. ×¢×¨×›×™× ×’×‘×•×”×™× '××§×¤×™×¦×™×' ××ª ×¨××ª ×”×¡×•×›×¨ ×‘×“× ×œ×¨××” ×’×‘×•×”×”, ×•×‘××”×™×¨×•×ª.â€</help>
                        <span>×¢×¨×š ×’×œ×™×§××™</span>
                    </th>
                    <td>
                        <input id="glycemic-index" type="number" min="0" max="100" placeholder="×‘×™×Ÿ 0 ×œ-100">
                        <div class="button-row">
                            <button id="gi-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="gi-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>×¢×•××¡ ×’×œ×™×§××™ ××—×•×©×‘ ×‘×××¦×¢×•×ª ×—×™×œ×•×§ ×”×¢×¨×š ×”×’×œ×™×§××™ ×‘-100, ×•×”×›×¤×œ×ª ×”×ª×•×¦××” ×‘×›××•×ª ×”×¤×—×××•×ª ×©×‘××•×›×œ, ×‘×’×¨××™×. ×¢×¨×›×™× ×’×‘×•×”×™× ×™×•×ª×¨ '××§×¤×™×¦×™×' ××ª ×¨××ª ×”×¡×•×›×¨ ×‘×“× ×œ×¨××” ×’×‘×•×”×”, ×•×‘××”×™×¨×•×ª ×’×‘×•×”×” ×™×•×ª×¨.â€</help>
                        <span>×¢×•××¡ ×’×œ×™×§××™ (×œ-100 ×’×¨×)</span>
                    </th>
                    <td>
                        <input id="glycemic-load" type="number" min="0" placeholder="×¢×•××¡ ×’×œ×™×§××™">
                        <div class="button-row">
                            <button id="gl-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="gl-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>×¡×•×›×¨ ×”×•× ××—×“ ××©×œ×•×©×ª ×¡×•×’×™ ×”×¤×—××™××•×ª: ×¡×™×‘×™×, ×¡×•×›×¨, ×•×¢××™×œ×Ÿ. ×¡×™×‘×™× ×”×Ÿ ×¤×—××™××” '×˜×•×‘×”', ×‘×¢×•×“ ×©×¢××™×œ×Ÿ ×•×¡×•×›×¨ ×”×Ÿ ×¤×—××™××•×ª '×¨×¢×•×ª'.â€</help>
                        <span>×¡×•×›×¨ (×œ-100 ×’×¨×)</span>
                    </th>
                    <td>
                        <input id="sugar" type="number" min="0" placeholder="×¡×•×›×¨ (×’×¨×)">
                        <div class="button-row">
                            <button id="s-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="s-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>
                        <help>×¨×•×‘ ×”×××›×œ×™× ××›×™×œ×™× ×›××•×ª ××¡×•×™××ª ×©×œ ×¤×—××™××•×ª. ×”×’×•×£ ×©×œ× ×• ××©×ª××© ×‘×”× ×¢×œ ×× ×ª ×œ×™×™×¦×¨ ×× ×¨×’×™×”</help>
                        <span>×¤×—××™××•×ª (×œ-100 ×’×¨×)</span>
                    </th>
                    <td>
                        <input id="carbs" type="number" min="0" placeholder="×¤×—××™××•×ª (×’×¨×)">
                        <div class="button-row">
                            <button id="c-ns" type="button">×× ×™ ×œ× ×‘×˜×•×—</button>
                            <button id="c-dk" type="button">×× ×™ ×œ× ×™×•×“×¢</button>
                        </div>
                    </td>
                </tr>
            </tbody></table>
        </form>

        <div class="row">
            <button type="submit" id="submit">×©×œ×—</button>
        </div>
        <h3 id="submition-output"></h3>


        <script>
            String.prototype.attemptedXSS = function () {
                return /[<>]/.test(this);
            }


            let submit = document.getElementById("submit");
            let output = document.getElementById("submition-output");

            submit.onclick = () => {

                let notice = confirm("Are you sure you want to submit?");
                if (!notice) return;

                submit.textContent = "Submitting...";

                output.innerHTML = "Grabbing Data From Text Fields...";

                let name = document.getElementById("name").value;
                let name__RatherNotProvide = document.getElementById("n-np").classList.contains("selected");
                if (name.length === 0 && !name__RatherNotProvide) {
                    output.innerHTML = "Please provide a name, or select 'I'd rather not provide'.";
                    submit.textContent = "Submit";
                    return;
                }

                let foodEn = document.getElementById("food-name-english").value;
                let foodEn_NotSure = document.getElementById("fn-ns").classList.contains("selected");
                let foodEn_DontKnow = document.getElementById("fn-dk").classList.contains("selected");
                let foodEn_Sureness = foodEn_DontKnow ? 0 : foodEn_NotSure ? 1 : 2;

                let foodHe = document.getElementById("food-name-hebrew").value;
                let foodHe_NotSure = document.getElementById("t-ns").classList.contains("selected");
                let foodHe_DontKnowAny = document.getElementById("t-dk").classList.contains("selected");
                let foodHe_Sureness = foodHe_DontKnowAny ? 0 : foodHe_NotSure ? 1 : 2;

                let foodCompany = document.getElementById("company").value;
                console.log(foodCompany, foodCompany.length);
                
                let foodCompanyObject = foodCompany.length === 0 ? null :
                    foodCompany.startsWith("{") ? JSON.parse(foodCompany) : 
                    { ID: foodCompany, en: "<TRANSLATION NEEDED>", he: "<TRANSLATION NEEDED>" };

                let foodWeight = document.getElementById("food-weight").value;

                let glycemicIndex = document.getElementById("glycemic-index").value;
                let glycemicIndex_NotSure = document.getElementById("gi-ns").classList.contains("selected");
                let glycemicIndex_DontKnow = document.getElementById("gi-dk").classList.contains("selected");
                glycemicIndex = glycemicIndex_DontKnow ? -1 : glycemicIndex
                let glycemicIndex_Metadata = glycemicIndex_NotSure ? "inaccurate" : "";

                let glycemicLoad = document.getElementById("glycemic-load").value;
                let glycemicLoad_NotSure = document.getElementById("gl-ns").classList.contains("selected");
                let glycemicLoad_DontKnow = document.getElementById("gl-dk").classList.contains("selected");
                glycemicLoad = glycemicLoad_DontKnow ? -1 : glycemicLoad;
                let glycemicLoad_Metadata = glycemicLoad_NotSure ? "inaccurate" : "";

                let sugar = document.getElementById("sugar").value;
                let sugar_NotSure = document.getElementById("s-ns").classList.contains("selected");
                let sugar_DontKnow = document.getElementById("s-dk").classList.contains("selected");
                sugar = sugar_DontKnow ? -1 : sugar;
                let sugar_Metadata = sugar_NotSure ? "inaccurate" : "";

                let carbs = document.getElementById("carbs").value;
                let carbs_NotSure = document.getElementById("c-ns").classList.contains("selected");
                let carbs_DontKnow = document.getElementById("c-dk").classList.contains("selected");
                carbs = carbs_DontKnow ? -1 : carbs;
                let carbs_Metadata = carbs_NotSure ? "inaccurate" : "";

                if (document.getElementById("food-name-english").classList.contains("already-exists") || document.getElementById("food-name-hebrew").classList.contains("already-exists")) {
                    output.innerHTML = "Food already exists in the food list.";
                    submit.textContent = "Submit";
                    return;
                }

                output.innerHTML = "Testing For Attempted XSS Attacks...";

                if (name.attemptedXSS() || foodEn.attemptedXSS() || glycemicIndex.attemptedXSS() || glycemicLoad.attemptedXSS() || sugar.attemptedXSS() || carbs.attemptedXSS() || foodHe.attemptedXSS()) {
                    output.innerHTML = "Nice try ğŸ˜‰";
                    submit.textContent = "Submit";
                    return;
                }

                output.innerHTML = "Building & Sending Submission Packet...";

                provideUsingDetails(name, [foodEn, foodEn_Sureness], [foodHe, foodHe_Sureness], foodWeight, foodCompanyObject, {value: glycemicIndex, metadata: glycemicIndex_Metadata}, {value: glycemicLoad, metadata: glycemicLoad_Metadata}, {value: sugar, metadata: sugar_Metadata}, {value: carbs, metadata: carbs_Metadata})
                    .then(response => {
                        output.innerHTML = response;
                        submit.textContent = "Submit";
                        // document.getElementById("food-name-english").value = "";
                        // document.getElementById("food-name-hebrew").value = "";
                        // document.getElementById("food-weight").value = "";
                        // document.getElementById("glycemic-index").value = "";
                        // document.getElementById("glycemic-load").value = "";
                        // document.getElementById("sugar").value = "";
                        // document.getElementById("carbs").value = "";
                        // document.getElementById("company").value = "";
                    })

            }   
        </script>

    </div>

    <script src="/js/foods/help-marks.js"></script>
    <script src="/js/foods/choice-buttons.js"></script>
    <script src="/js/foods/food-name-validator.js"></script>
    <script src="/js/foods/contribute.js"></script>



</body></html>